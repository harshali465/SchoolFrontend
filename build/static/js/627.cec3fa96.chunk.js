"use strict";(self.webpackChunkhoustonschoolfront=self.webpackChunkhoustonschoolfront||[]).push([[627],{3627:function(e,t,a){a.r(t);var o=a(4942),s=a(1413),n=a(4165),c=a(5861),r=a(9439),l=a(7689),d=a(2791),i=a(8983),m=a(1243),u=a(184);t.default=function(){var e=localStorage.getItem("accessToken"),t=(0,l.TH)().state.schoolid,a=(0,d.useState)({schoolLogo:"",schoolName:"",contactPersonEmail:"",contactPersonName:"",contactPersonContact:"",numberOfStudents:"",addressLine1:"",addressLine2:"",cityState:"",country:"",password:""}),h=(0,r.Z)(a,2),p=h[0],x=h[1],b=function(){var t=(0,c.Z)((0,n.Z)().mark((function t(a){var o,s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.Z.get("http://localhost:3001/api/v1/schools/get/".concat(a),{headers:{Authorization:"Bearer ".concat(e)}});case 2:o=t.sent,s=o.data,console.log("Data from API:",s),x(s.school);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,d.useEffect)((function(){b(t)}),[t]);var f=function(e){var t=e.target,a=t.name,n=t.value;x((0,s.Z)((0,s.Z)({},p),{},(0,o.Z)({},a,n)))},j=(0,d.useState)(!1),v=(0,r.Z)(j,2),g=v[0],N=v[1],y=function(){var a=(0,c.Z)((0,n.Z)().mark((function a(o){var s;return(0,n.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o.preventDefault(),!1!==o.currentTarget.checkValidity()){a.next=6;break}N(!0),a.next=12;break;case 6:return console.log("form is valid and good to ship"),a.next=9,m.Z.put("http://localhost:3001/api/v1/schools/update/".concat(t),{schoolLogo:p.schoolLogo,schoolName:p.schoolName,contactPersonEmail:p.contactPersonEmail,contactPersonName:p.contactPersonName,contactPersonContact:p.contactPersonContact,numberOfStudents:p.numberOfStudents,addressLine1:p.addressLine1,addressLine2:p.addressLine2,cityState:p.cityState,country:p.country,password:p.password},{headers:{Authorization:"Bearer ".concat(e)}});case 9:s=a.sent,console.log(s),x({schoolLogo:"",schoolName:"",contactPersonEmail:"",contactPersonName:"",contactPersonContact:"",numberOfStudents:"",addressLine1:"",addressLine2:"",cityState:"",country:"",password:""});case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:"h-100",children:[(0,u.jsx)("div",{className:"display-3 text-center pb-3",children:"Edit school"}),(0,u.jsx)("div",{className:"display-6 text-center pb-3",children:"school information"}),(0,u.jsx)("div",{className:"vertical-height d-flex justify-content-center",children:(0,u.jsxs)(i.lx,{className:"needs-validation h-100 w-50",noValidate:!0,validated:g,onSubmit:y,children:[(0,u.jsxs)(i.rb,{className:"row1-height",children:[(0,u.jsx)(i.b7,{md:6,className:"d-flex flex-column align-items-center col1",children:(0,u.jsxs)(i.rb,{children:[(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"text",className:"form-control",label:"School logo",id:"inputGroupFile02",name:"schoolLogo",value:p.schoolLogo,onChange:f})}),(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom01",label:"School name",required:!0,value:p.schoolName,onChange:f,name:"schoolName"})}),(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom02",placeholder:"Addressline 1",label:"Address",required:!0,value:p.addressLine1,onChange:f,name:"addressLine1"})}),(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom02",placeholder:"Addressline 2",required:!0,value:p.addressLine2,onChange:f,name:"addressLine2"})}),(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom02",placeholder:"City, State",required:!0,value:p.cityState,onChange:f,name:"cityState"})}),(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom02",placeholder:"Country",required:!0,value:p.country,onChange:f,name:"country"})}),(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"number",feedbackValid:"Looks good!",id:"validationCustom03",label:"No of students",required:!0,value:p.numberOfStudents,onChange:f,name:"numberOfStudents"})})]})}),(0,u.jsx)(i.b7,{md:6,className:"d-flex flex-column align-items-center col2",children:(0,u.jsxs)(i.rb,{children:[(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom01",label:"Contact person name",required:!0,value:p.contactPersonName,onChange:f,name:"contactPersonName"})}),(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"number",feedbackValid:"Looks good!",id:"validationCustom03",label:"Contact number",required:!0,value:p.contactPersonContact,onChange:f,name:"contactPersonContact"})}),(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"email",feedbackValid:"Looks good!",id:"validationCustom03",label:"Contact person email",required:!0,value:p.contactPersonEmail,onChange:f,name:"contactPersonEmail"})}),(0,u.jsx)(i.b7,{md:12,className:"pt-2",children:(0,u.jsx)(i.jO,{type:"text",id:"cust",label:"Edit password",value:p.password,onChange:f,name:"password"})})]})})]}),(0,u.jsxs)("div",{className:"buttons text-center mt-3",children:[(0,u.jsx)(i.b7,{xs:12,children:(0,u.jsx)(i.u5,{color:"primary",type:"submit",children:"Submit form"})}),(0,u.jsx)(i.b7,{xs:12,className:"mt-2",children:(0,u.jsx)(i.u5,{color:"dark",type:"reset",onClick:function(){x({schoolLogo:"",schoolName:"",contactPersonEmail:"",contactPersonName:"",contactPersonContact:"",numberOfStudents:"",addressLine1:"",addressLine2:"",cityState:"",country:"",password:""})},children:"Reset form"})})]})]})})]})}}}]);
//# sourceMappingURL=627.cec3fa96.chunk.js.map