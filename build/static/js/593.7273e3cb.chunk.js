"use strict";(self.webpackChunkhoustonschoolfront=self.webpackChunkhoustonschoolfront||[]).push([[593],{7593:function(e,t,n){n.r(t);var a=n(3433),c=n(1413),r=n(9439),s=n(4165),i=n(5861),l=n(2791),d=n(7689),o=(n(6048),n(8983)),u=n(1243),h=(n(1323),n(6772),n(2957),n(184));t.default=function(){var e=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("accessToken"),e.next=4,u.Z.get("http://18.118.42.224:3001/api/v1/aadat",{headers:{Authorization:"Bearer ".concat(t)}});case 4:n=e.sent,console.log(n.data.data.docs),m(n.data.data.docs),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){e()}),[]);var t=(0,d.s0)(),n=(0,l.useState)([]),x=(0,r.Z)(n,2),f=x[0],m=x[1],p=(0,l.useState)([]),j=(0,r.Z)(p,2),v=j[0],b=(j[1],(0,l.useState)(!1)),k=(0,r.Z)(b,2),g=k[0],N=k[1],Z=(0,l.useState)(!1),C=(0,r.Z)(Z,2),y=C[0],S=C[1],w=(0,l.useState)([]),A=(0,r.Z)(w,2),E=A[0],D=A[1],_=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===(n=(0,a.Z)(f))[t].selected?D([].concat((0,a.Z)(E),[n[t]._id])):D((function(e){return e.filter((function(e){return e!==n[t]._id}))})),n[t].selected=!n[t].selected,m(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var t=(0,i.Z)((0,s.Z)().mark((function t(){var n,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("accessToken"),t.prev=1,t.next=4,u.Z.delete("http://18.118.42.224:3001/api/v1/aadat",{data:{ids:E},headers:{Authorization:"Bearer ".concat(n)}});case 4:a=t.sent,console.log(a.data),N(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:e();case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),L=(0,l.useState)(""),I=(0,r.Z)(L,2),T=I[0],z=I[1],M=(0,l.useState)(""),P=(0,r.Z)(M,2),Y=P[0],q=P[1],F=(0,l.useState)(!1),G=(0,r.Z)(F,2),H=(G[0],G[1],(0,l.useState)("")),J=(0,r.Z)(H,2),K=(J[0],J[1],(0,l.useState)("")),O=(0,r.Z)(K,2),Q=(O[0],O[1],(0,l.useState)("")),R=(0,r.Z)(Q,2),U=(R[0],R[1],(0,l.useState)(v.length)),V=(0,r.Z)(U,2),W=V[0],X=V[1],$=(0,l.useState)(1),ee=(0,r.Z)($,2),te=ee[0],ne=ee[1],ae=function(e){ne(e)},ce=(te-1)*W,re=ce+W,se=(v.slice(ce,re),Math.ceil(v.length/W));return(0,h.jsxs)("div",{children:[(0,h.jsxs)(o.Tk,{backdrop:"static",visible:g,onClose:function(){N(!1),D([])},"aria-labelledby":"StaticBackdropExampleLabel",children:[(0,h.jsx)(o.p0,{children:(0,h.jsx)(o.fl,{id:"StaticBackdropExampleLabel",children:"Delete Adaat"})}),(0,h.jsx)(o.sD,{children:"Are you sure you wish to delete this Adaat?"}),(0,h.jsxs)(o.Ym,{children:[(0,h.jsx)(o.u5,{color:"secondary",onClick:function(){N(!1),D([])},children:"Close"}),(0,h.jsx)(o.u5,{color:"primary",onClick:function(){return B()},children:"Yes!"})]})]}),(0,h.jsxs)("div",{className:"mb-2",children:[(0,h.jsxs)("div",{className:"row pb-5",children:[(0,h.jsx)("div",{className:"col-md-6 ",children:(0,h.jsx)("div",{className:"display-6 pb-3 float-end",children:"Adaat listing"})}),(0,h.jsx)("div",{className:"col-md-6 ",children:(0,h.jsx)("button",{className:"btn btn-primary float-end",onClick:function(){t("/addadaat")},children:"Add Adaat"})})]}),(0,h.jsx)("div",{className:"filters d-flex",children:(0,h.jsx)("input",{className:"form-control",type:"text",placeholder:"Search by keyword",value:T,onChange:function(e){return z(e.target.value)}})})]}),(0,h.jsxs)("div",{className:"pb-4 d-flex justify-content-start align-items-center",children:[(0,h.jsx)("div",{className:"p-2",children:(0,h.jsx)(o.EC,{type:"radio",id:"flexCheckDefault",label:"Active",checked:""!==Y&&!!Y,onClick:function(){q(!0)}})}),(0,h.jsx)("div",{className:"p-2",children:(0,h.jsx)(o.EC,{type:"radio",id:"flexCheckDefault",label:"Inactive",checked:""!==Y&&!Y,onClick:function(){q(!1)}})}),""!==Y&&(0,h.jsx)("button",{className:"btn btn-dark btn-md ",onClick:function(){q("")},children:"Show all"}),(0,h.jsx)("button",{className:"btn btn-dark btn-md ",onClick:function(){N(!g)},children:"Delete Selected"})]}),(0,h.jsxs)("table",{className:"table table-bordered",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"text-center",children:(0,h.jsx)("input",{type:"checkbox",checked:y,onChange:function(){if(D([]),y)D([]);else{var e=f.map((function(e){return e._id}));D(e)}S(!y),m((function(e){return e.map((function(e){return(0,c.Z)((0,c.Z)({},e),{},{selected:!y})}))}))}})}),(0,h.jsx)("th",{className:"text-center",children:"Name of Adaat"}),(0,h.jsx)("th",{className:"text-center",children:"Adaat Category"}),(0,h.jsx)("th",{className:"text-center",children:"Status"}),(0,h.jsx)("th",{className:"text-center",children:"Action"})]})}),(0,h.jsx)("tbody",{children:f.filter((function(e){return function(e){var t=e.name.toLowerCase().includes(T.toLowerCase()),n=""===Y||e.active===Y;return t&&n}(e)})).map((function(e,n){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{className:"text-center align-middle",children:(0,h.jsx)("input",{type:"checkbox",checked:e.selected,onChange:function(){return _(n)}})}),(0,h.jsx)("td",{className:"text-center align-middle",children:e.name}),(0,h.jsx)("td",{className:"text-center align-middle",children:e.category.name}),(0,h.jsx)("td",{className:"text-center align-middle",children:e.active?"active":"inactive"}),(0,h.jsxs)("td",{className:"text-center align-middle",children:[(0,h.jsx)("button",{className:"btn btn-primary btn-md",onClick:function(){var n;n=e._id,t("/editadaat",{state:{catid:n}})},children:"Edit"}),(0,h.jsx)("button",{className:"btn btn-dark btn-md",onClick:function(){D([]),D([e._id]),N(!0)},children:"Delete"})]})]},n)}))})]}),(0,h.jsx)("div",{className:"pagination",children:(0,h.jsxs)(o.E7,{"aria-label":"Page navigation",children:[(0,h.jsx)(o.tn,{onClick:function(){return ae(te-1)},disabled:1===te,children:"Previous"}),Array.from({length:se},(function(e,t){return(0,h.jsx)(o.tn,{active:te===t+1,onClick:function(){return ae(t+1)},children:t+1},t)})),(0,h.jsx)(o.tn,{onClick:function(){return ae(te+1)},disabled:te===Math.ceil(v.length/W),children:"Next"}),(0,h.jsxs)("div",{className:"d-flex",children:[(0,h.jsx)(o.tn,{children:"Entries:"}),(0,h.jsx)(o.tn,{children:(0,h.jsxs)("select",{value:W,onChange:function(e){return X(e.target.value)},children:[(0,h.jsx)("option",{value:"2",children:"2"}),(0,h.jsx)("option",{value:"4",children:"4"}),(0,h.jsx)("option",{value:v.length,children:"all"})]})})]})]})})]})}}}]);
//# sourceMappingURL=593.7273e3cb.chunk.js.map