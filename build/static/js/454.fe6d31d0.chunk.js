"use strict";(self.webpackChunkhoustonschoolfront=self.webpackChunkhoustonschoolfront||[]).push([[454],{4454:function(e,s,a){a.r(s);var t=a(4942),r=a(1413),i=a(9439),l=a(4165),d=a(5861),n=a(2791),o=a(2937),c=a(4846),h=a(3647),m=(a(1323),a(6772),a(2957),a(1243)),u=a(7689),x=a(184);s.default=function(){var e=localStorage.getItem("accessToken"),s=(0,u.s0)(),a=(0,u.TH)().state.studentid,j=function(){var s=(0,d.Z)((0,l.Z)().mark((function s(){var t,r;return(0,l.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,m.Z.get("http://18.118.42.224:3001/api/v1/users/".concat(a),{headers:{Authorization:"Bearer ".concat(e)}});case 3:t=s.sent,console.log(t.data.data),(r=t.data.data)&&v({profilePic:"",firstName:r.firstName,lastName:r.lastName,studentPassword:"",ConfirmStudentPassword:"",class:r.class,house:r.house,phoneNumber:r.itsNo,studentId:r.studentId,division:r.division,mentor:r.mentor,siblings:[],fatherFirstName:r.familyDetails.fatherFirstName,fatherLastName:r.familyDetails.fatherLastName,fatherPhoneNumber:r.familyDetails.fatherPhone,fatherEmailAddress:r.familyDetails.fatherEmail,motherFirstName:r.familyDetails.motherFirstName,motherLastName:r.familyDetails.motherLastName,motherPhoneNumber:r.familyDetails.motherPhone,motherEmailAddress:r.familyDetails.motherEmail,year:r.year,term:r.term}),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(0),console.error("Error fetching users:",s.t0);case 12:case"end":return s.stop()}}),s,null,[[0,9]])})));return function(){return s.apply(this,arguments)}}();(0,n.useEffect)((function(){j()}),[]);var b=(0,n.useState)({profilePic:"",firstName:"",lastName:"",studentPassword:"",ConfirmStudentPassword:"",class:"",house:"",phoneNumber:"",studentId:"",division:"",mentor:"",siblings:[],fatherFirstName:"",fatherLastName:"",fatherPhoneNumber:"",fatherEmailAddress:"",motherFirstName:"",motherLastName:"",motherPhoneNumber:"",motherEmailAddress:"",year:"",term:""}),p=(0,i.Z)(b,2),f=p[0],v=p[1],N=(0,n.useState)(!1),y=(0,i.Z)(N,2),C=y[0],g=y[1],k=(0,n.useState)(!1),P=(0,i.Z)(k,2),w=P[0],O=P[1],L=(0,n.useState)(!1),F=(0,i.Z)(L,2),q=F[0],Z=F[1],S=(0,n.useState)(!1),A=(0,i.Z)(S,2),E=A[0],D=A[1],V=function(e){var s=e.target,a=s.name,i=s.value;v((0,r.Z)((0,r.Z)({},f),{},(0,t.Z)({},a,i)))},I=function(){var e=(0,d.Z)((0,l.Z)().mark((function e(s){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.preventDefault(),!1===s.currentTarget.checkValidity()?Z(!0):(console.log("form is valid and good to ship"),D(!0));case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),M=function(){var t=(0,d.Z)((0,l.Z)().mark((function t(){var r;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(f),t.next=3,m.Z.patch("http://18.118.42.224:3001/api/v1/users/".concat(a),{firstName:f.firstName,lastName:f.lastName,itsNo:f.phoneNumber,email:f.fatherEmailAddress,photo:f.profilePic,password:f.studentPassword,studentId:f.studentId,class:f.class,house:f.house,division:f.division,mentor:f.mentor,familyDetails:{fatherFirstName:f.fatherFirstName,fatherLastName:f.fatherLastName,fatherPhone:f.fatherPhoneNumber,fatherEmail:f.fatherEmailAddress,motherFirstName:f.motherFirstName,motherLastName:f.motherLastName,motherPhone:f.motherPhoneNumber,motherEmail:f.motherEmailAddress},behaviousPoints:{positivePoints:"500",negativePoints:"200"},year:f.year,term:f.term},{headers:{Authorization:"Bearer ".concat(e)}});case 3:r=t.sent,D(!1),console.log(r),B(),s("/studentlisting");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){g(!1),O(!1),Z(!1),v({profilePic:"",firstName:"",lastName:"",studentPassword:"",ConfirmStudentPassword:"",class:"",house:"",phoneNumber:"",studentId:"",division:"",mentor:"",siblings:[],fatherFirstName:"",fatherLastName:"",fatherPhoneNumber:"",fatherEmailAddress:"",motherFirstName:"",motherLastName:"",motherPhoneNumber:"",motherEmailAddress:"",year:"",term:""})};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(o.KB,{fluid:!0,className:"container overflow-auto",children:[(0,x.jsxs)(o.Tk,{backdrop:"static",visible:E,onClose:function(){return D(!1)},"aria-labelledby":"StaticBackdropExampleLabel",children:[(0,x.jsx)(o.p0,{children:(0,x.jsx)(o.fl,{id:"StaticBackdropExampleLabel",children:"Form submission"})}),(0,x.jsx)(o.sD,{children:"Are you sure you wish to sumbit this form?"}),(0,x.jsxs)(o.Ym,{children:[(0,x.jsx)(o.u5,{color:"secondary",onClick:function(){return D(!1)},children:"Close"}),(0,x.jsx)(o.u5,{color:"primary",onClick:M,children:"Yes!"})]})]}),(0,x.jsx)("div",{className:"display-5 text-center pb-3 font-weight-bold",children:"Edit student"}),(0,x.jsx)("div",{className:"display-6 text-center pb-3",children:"Student information"}),(0,x.jsxs)(o.lx,{className:"row g-3 needs-validation",noValidate:!0,validated:q,onSubmit:I,children:[(0,x.jsxs)(o.rb,{children:[(0,x.jsxs)(o.b7,{md:6,className:"d-flex flex-column align-items-center col1",children:[(0,x.jsx)(o.b7,{className:"pt-4",children:(0,x.jsx)(o.jO,{type:"file",class:"form-control",label:"Profile pic",name:"profilePic",id:"inputGroupFile02",value:f.profilePic,onChange:V})}),(0,x.jsxs)(o.b7,{children:[(0,x.jsx)(o.L8,{htmlFor:"validationCustomPassword",children:"Password"}),(0,x.jsxs)(o.YR,{className:"has-validation",children:[(0,x.jsx)(o.wV,{children:(0,x.jsx)(c.Z,{icon:h.U})}),(0,x.jsx)(o.jO,{type:"password","aria-describedby":"inputGroupPrependFeedback",id:"validationCustomPassword",name:"studentPassword",required:!0,value:f.studentPassword,onChange:V})]})]}),(0,x.jsxs)(o.b7,{children:[(0,x.jsx)(o.L8,{htmlFor:"validationCustomConfirmPassword",children:"Confirm Password"}),(0,x.jsxs)(o.YR,{className:"has-validation",children:[(0,x.jsx)(o.wV,{children:(0,x.jsx)(c.Z,{icon:h.U})}),(0,x.jsx)(o.jO,{type:"password","aria-describedby":"inputGroupPrependFeedback",id:"validationCustomConfirmPassword",name:"ConfirmStudentPassword",required:!0,value:f.ConfirmStudentPassword,onChange:V})]})]}),(0,x.jsx)(o.b7,{className:"pt-2",children:(0,x.jsx)(o.jO,{type:"number",feedbackValid:"Looks good!",id:"validationCustom03",label:"Home phone number",name:"phoneNumber",required:!0,value:f.phoneNumber,onChange:V})}),(0,x.jsx)(o.b7,{children:(0,x.jsxs)(o.LX,{"aria-describedby":"validationCustom04Feedback",feedbackInvalid:"Please select a valid Division.",id:"validationCustom04",label:"Division",name:"division",required:!0,value:f.division,onChange:V,children:[(0,x.jsx)("option",{selected:"",disabled:"",value:"",children:"Choose..."}),(0,x.jsx)("option",{children:"div A"}),(0,x.jsx)("option",{children:"div B"}),(0,x.jsx)("option",{children:"div C"})]})})]}),(0,x.jsxs)(o.b7,{md:6,className:"d-flex flex-column align-items-center col2",children:[(0,x.jsx)(o.b7,{className:"pt-4",children:(0,x.jsx)(o.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom01",label:"First name",name:"firstName",required:!0,value:f.firstName,onChange:V})}),(0,x.jsx)(o.b7,{children:(0,x.jsx)(o.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom02",label:"Last name",name:"lastName",required:!0,value:f.lastName,onChange:V})}),(0,x.jsx)(o.b7,{children:(0,x.jsxs)(o.LX,{"aria-describedby":"validationCustom05Feedback",feedbackInvalid:"Please select a valid Class.",id:"validationCustom05",label:"Class",name:"class",required:!0,value:f.class,onChange:V,children:[(0,x.jsx)("option",{selected:"",disabled:"",value:"",children:"Choose..."}),(0,x.jsx)("option",{children:"Grade 1"}),(0,x.jsx)("option",{children:"Grade 2"}),(0,x.jsx)("option",{children:"Grade 3"})]})}),(0,x.jsx)(o.b7,{children:(0,x.jsxs)(o.LX,{"aria-describedby":"validationCustom06Feedback",feedbackInvalid:"Please select a valid House.",id:"validationCustom06",label:"House",name:"house",required:!0,value:f.house,onChange:V,children:[(0,x.jsx)("option",{selected:"",disabled:"",value:"",children:"Choose..."}),(0,x.jsx)("option",{children:"Green house"}),(0,x.jsx)("option",{children:"Blue house"}),(0,x.jsx)("option",{children:"Red house"})]})}),(0,x.jsxs)(o.b7,{className:"pt-2",children:[(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"StudentId",name:"studentId",required:!0,readOnly:!0,value:f.studentId,placeholder:"null-id"}),(0,x.jsx)(o.u5,{color:"dark",className:"float-end btn-md",onClick:function(){var e=Date.now().toString(36)+Math.random().toString(36).substr(2,5);v((0,r.Z)((0,r.Z)({},f),{},{studentId:e}))},children:"Generate id"})]}),(0,x.jsx)(o.b7,{children:(0,x.jsxs)(o.LX,{"aria-describedby":"validationCustom07Feedback",feedbackInvalid:"Please select a valid Mentor.",id:"validationCustom07",label:"Mentor",name:"mentor",required:!0,value:f.mentor,onChange:V,children:[(0,x.jsx)("option",{selected:"",disabled:"",value:"",children:"Choose..."}),(0,x.jsx)("option",{children:"Mentor A"}),(0,x.jsx)("option",{children:"Mentor B"}),(0,x.jsx)("option",{children:"Mentor C"})]})})]})]}),(0,x.jsxs)(o.KB,{fluid:!0,className:" d-flex mt-4",children:[(0,x.jsxs)(o.KB,{fluid:!0,className:"father-info",children:[(0,x.jsx)("div",{className:"display-6 text-center pb-3",children:"Father details"}),(0,x.jsx)(o.rb,{children:(0,x.jsxs)(o.b7,{md:12,className:"fathers-column",children:[(0,x.jsx)(o.b7,{children:(0,x.jsx)(o.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom02",label:"Fathers first name",name:"fatherFirstName",required:!0,value:f.fatherFirstName,onChange:V})}),(0,x.jsx)(o.b7,{children:(0,x.jsx)(o.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom02",label:"Fathers last name",name:"fatherLastName",required:!0,value:f.fatherLastName,onChange:V})}),(0,x.jsx)(o.b7,{children:(0,x.jsx)(o.jO,{type:"number",feedbackValid:"Looks good!",id:"validationCustom02",label:"Fathers phone number",name:"fatherPhoneNumber",required:!0,value:f.fatherPhoneNumber,onChange:V})}),(0,x.jsx)(o.b7,{children:(0,x.jsx)(o.jO,{type:"email",feedbackValid:"Looks good!",id:"validationCustom02",label:"Fathers email address",name:"fatherEmailAddress",required:!0,value:f.fatherEmailAddress,onChange:V})})]})})]}),(0,x.jsxs)(o.KB,{fluid:!0,className:"mother-info",children:[(0,x.jsx)("div",{className:"display-6 text-center pb-3",children:"Mother details"}),(0,x.jsx)(o.rb,{children:(0,x.jsxs)(o.b7,{md:12,className:"mothers-column",children:[(0,x.jsx)(o.b7,{children:(0,x.jsx)(o.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom02",label:"Mothers first name",name:"motherFirstName",required:!0,value:f.motherFirstName,onChange:V})}),(0,x.jsx)(o.b7,{children:(0,x.jsx)(o.jO,{type:"text",feedbackValid:"Looks good!",id:"validationCustom02",label:"Mothers last name",name:"motherLastName",required:!0,value:f.motherLastName,onChange:V})}),(0,x.jsx)(o.b7,{children:(0,x.jsx)(o.jO,{type:"number",feedbackValid:"Looks good!",id:"validationCustom02",label:"Mothers phone number",name:"motherPhoneNumber",required:!0,value:f.motherPhoneNumber,onChange:V})}),(0,x.jsx)(o.b7,{children:(0,x.jsx)(o.jO,{type:"email",feedbackValid:"Looks good!",id:"validationCustom02",label:"Mothers email address",name:"motherEmailAddress",required:!0,value:f.motherEmailAddress,onChange:V})})]})})]})]}),(0,x.jsxs)(o.KB,{fluid:!0,className:"Academic details mt-4",children:[(0,x.jsx)("div",{className:"display-6 text-center pb-3",children:"Academic details"}),(0,x.jsxs)(o.rb,{children:[(0,x.jsxs)(o.b7,{md:6,className:"academin-col1",children:[(0,x.jsx)(o.b7,{children:(0,x.jsxs)(o.LX,{"aria-describedby":"validationCustom07Feedback",feedbackInvalid:"Please select a valid year.",id:"validationCustom07",label:"Select year",name:"year",required:!0,value:f.year,onChange:V,children:[(0,x.jsx)("option",{selected:"",disabled:"",value:"",children:"Choose..."}),(0,x.jsx)("option",{children:"2019-20"}),(0,x.jsx)("option",{children:"2020-21"}),(0,x.jsx)("option",{children:"2021-22"})]})}),(0,x.jsx)(o.b7,{className:"pt-4",children:(0,x.jsxs)(o.rb,{className:"align-items-center",children:[(0,x.jsx)(o.b7,{md:6,children:(0,x.jsx)("p",{children:"Attendence:"})}),(0,x.jsxs)(o.b7,{md:6,children:[(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"Total days",required:!0,readOnly:!0,value:"10"}),(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"Present",required:!0,readOnly:!0,value:"8"})]})]})}),(0,x.jsx)(o.b7,{className:"pt-4",children:(0,x.jsxs)(o.rb,{children:[(0,x.jsx)(o.b7,{md:6,children:(0,x.jsx)("p",{children:"Student report:"})}),(0,x.jsxs)(o.b7,{md:6,children:[(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",required:!0,readOnly:!0,value:"80%"}),(0,x.jsx)(o.u5,{color:"dark",className:"float-end btn-md",children:"Download pdf"})]})]})}),(0,x.jsx)(o.b7,{className:"pt-4",children:(0,x.jsxs)(o.rb,{className:"align-items-center",children:[(0,x.jsx)(o.b7,{md:6,children:(0,x.jsx)("p",{children:"Leave request:"})}),(0,x.jsxs)(o.b7,{md:6,children:[(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"Total req",required:!0,readOnly:!0,value:"20"}),(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"App req",required:!0,readOnly:!0,value:"17"})]})]})}),(0,x.jsx)(o.b7,{className:"pt-4",children:(0,x.jsxs)(o.rb,{className:"align-items-center",children:[(0,x.jsx)(o.b7,{md:6,children:(0,x.jsx)("p",{children:"Fees:"})}),(0,x.jsxs)(o.b7,{md:6,children:[(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"Total",required:!0,readOnly:!0,value:"10000"}),(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"Paid",required:!0,readOnly:!0,value:"7000"}),(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"Pending",required:!0,readOnly:!0,value:"3000"})]})]})})]}),(0,x.jsxs)(o.b7,{md:6,className:"academin-col2",children:[(0,x.jsx)(o.b7,{children:(0,x.jsxs)(o.LX,{"aria-describedby":"validationCustom07Feedback",feedbackInvalid:"Please select a valid term.",id:"validationCustom07",label:"Select term",name:"term",required:!0,value:f.term,onChange:V,children:[(0,x.jsx)("option",{selected:"",disabled:"",value:"",children:"Choose..."}),(0,x.jsx)("option",{children:"1st term"}),(0,x.jsx)("option",{children:"2nd term"}),(0,x.jsx)("option",{children:"both"})]})}),(0,x.jsx)(o.b7,{className:"pt-4",children:(0,x.jsxs)(o.rb,{className:"align-items-center",children:[(0,x.jsx)(o.b7,{md:6,children:(0,x.jsx)("p",{children:"Behavious points:"})}),(0,x.jsxs)(o.b7,{md:6,children:[(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"+ve points",required:!0,readOnly:!0,value:"20"}),(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"-ve points",required:!0,readOnly:!0,value:"17"})]}),(0,x.jsx)(o.b7,{md:6,className:"mt-4",children:(0,x.jsx)("p",{children:"Homework status:"})}),(0,x.jsxs)(o.b7,{md:6,className:"mt-4",children:[(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"Total",required:!0,readOnly:!0,value:"5"}),(0,x.jsx)(o.jO,{type:"text",id:"validationCustom01",label:"Completed",required:!0,readOnly:!0,value:"3"})]}),(0,x.jsx)(o.b7,{md:6,className:"mt-4",children:(0,x.jsx)("p",{children:"Notifications:"})}),(0,x.jsxs)(o.b7,{md:6,className:"mt-4 d-flex",children:[(0,x.jsx)(o.u5,{color:"dark",className:"float-end btn-md",onClick:function(){g(!0)},children:"Individual"}),(0,x.jsx)(o.u5,{color:"dark",className:"float-end btn-md",onClick:function(){O(!0)},children:"General"})]}),(0,x.jsx)(o.KB,{className:"d-flex tables mt-3",children:(0,x.jsxs)(o.rb,{children:[(0,x.jsx)(o.b7,{md:12,className:"table1",children:C?(0,x.jsxs)("table",{class:"table table-bordered",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",children:"#"}),(0,x.jsx)("th",{scope:"col",children:"Date"}),(0,x.jsx)("th",{scope:"col",children:"Sent by"}),(0,x.jsx)("th",{scope:"col",children:"Message"})]})}),(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"row",children:"1"}),(0,x.jsx)("td",{children:"20/09/2023"}),(0,x.jsx)("td",{children:"Otto"}),(0,x.jsx)("td",{children:"Hi there"})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"row",children:"2"}),(0,x.jsx)("td",{children:"20/09/2023"}),(0,x.jsx)("td",{children:"Thornton"}),(0,x.jsx)("td",{children:"Hows it going"})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"row",children:"3"}),(0,x.jsx)("td",{children:"20/09/2023"}),(0,x.jsx)("td",{children:"Forsen"}),(0,x.jsx)("td",{children:"Detailed message"})]})]})]}):null}),(0,x.jsx)(o.b7,{md:12,className:"table2",children:w?(0,x.jsxs)("table",{class:"table table-bordered",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",children:"#"}),(0,x.jsx)("th",{scope:"col",children:"Date"}),(0,x.jsx)("th",{scope:"col",children:"Sent by"}),(0,x.jsx)("th",{scope:"col",children:"Sent To"}),(0,x.jsx)("th",{scope:"col",children:"Message"})]})}),(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"row",children:"1"}),(0,x.jsx)("td",{children:"20/09/2023"}),(0,x.jsx)("td",{children:"Otto"}),(0,x.jsx)("td",{children:"Class 2nd"}),(0,x.jsx)("td",{children:"Hi there"})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"row",children:"2"}),(0,x.jsx)("td",{children:"20/09/2023"}),(0,x.jsx)("td",{children:"Thornton"}),(0,x.jsx)("td",{children:"Class 3rd"}),(0,x.jsx)("td",{children:"Hows it going"})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"row",children:"3"}),(0,x.jsx)("td",{children:"20/09/2023"}),(0,x.jsx)("td",{children:"Forsen"}),(0,x.jsx)("td",{children:"xyz"}),(0,x.jsx)("td",{children:"Detailed message"})]})]})]}):null})]})})]})})]})]})]}),(0,x.jsxs)("div",{className:"buttons text-center",children:[(0,x.jsx)(o.u5,{color:"primary",type:"submit",children:"Submit form"}),(0,x.jsx)(o.u5,{color:"dark",type:"reset",onClick:B,children:"Reset form"})]})]})]})})}},3647:function(e,s,a){a.d(s,{U:function(){return t}});var t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=454.fe6d31d0.chunk.js.map